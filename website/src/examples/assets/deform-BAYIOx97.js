import{s as _,n as N,d as m,k as c0,i as r0,a as X,c as $,z as o0,t as s0,m as Y,b as A0,e as P0,f as p,g as I,h as b0,l as v0,j as E0,o as u0}from"./pureFunctionsAny.generated-CUnD8y8X.js";function F0(r){if(r.length===2)return H0(r[0],r[1]);if(r.length===3)return l0(r[0],r[1],r[2])}function H0(r,o){const s=_(o,r),g=N(s),a=m(s,[1,0,0])/g,v=m(s,[0,1,0])/g,h=m(s,[0,0,1])/g,f=Math.sqrt(a**2+v**2);let i=[[a,v,h],[-v/f,a/f,0],[-a*h/f,-v*h/f,f]];return h===1&&(i=[[0,0,1],[0,1,0],[-1,0,0]]),h===-1&&(i=[[0,0,-1],[0,1,0],[1,0,0]]),c0(r0(4),i).toArray()}function l0(r,o,s){const g=P([o,s]),a=P([r,s]),v=P([r,o]),h=X(_(g,a),N(_(g,a))),f=X(_(s,v),N(_(g,a))),i=X($(h,f),N($(h,f))),n=X($(i,h),N($(i,h))),T=[[h[0],n[0],i[0]],[h[1],n[1],i[1]],[h[2],n[2],i[2]]];return c0(r0(6),T).toArray();function P(u){const M=u.reduce((j,D)=>[j[0]+D[0],j[1]+D[1],j[2]+D[2]],[0,0,0]),L=u.length;return[M[0]/L,M[1]/L,M[2]/L]}}function B0(r,o,s){if(r.length===2)return M0(r,o,s);if(r.length===3)return w0(r,o,s)}function M0(r,o,s){var L,j,D,Z,l,J;const g=((L=o==null?void 0:o.momentsOfInertiaZ)==null?void 0:L.get(s))??0,a=((j=o==null?void 0:o.momentsOfInertiaY)==null?void 0:j.get(s))??0,v=((D=o==null?void 0:o.elasticities)==null?void 0:D.get(s))??0,h=((Z=o==null?void 0:o.areas)==null?void 0:Z.get(s))??0,f=((l=o==null?void 0:o.shearModuli)==null?void 0:l.get(s))??0,i=((J=o==null?void 0:o.torsionalConstants)==null?void 0:J.get(s))??0,n=N(_(r[0],r[1])),T=v*h/n,P=v*g/n**3,u=v*a/n**3,M=f*i/n;return[[T,0,0,0,0,0,-T,0,0,0,0,0],[0,12*P,0,0,0,6*n*P,0,-12*P,0,0,0,6*n*P],[0,0,12*u,0,-6*n*u,0,0,0,-12*u,0,-6*n*u,0],[0,0,0,M,0,0,0,0,0,-M,0,0],[0,0,-6*n*u,0,4*u*n**2,0,0,0,6*n*u,0,2*u*n**2,0],[0,6*n*P,0,0,0,4*P*n**2,0,-6*n*P,0,0,0,2*P*n**2],[-T,0,0,0,0,0,T,0,0,0,0,0],[0,-12*P,0,0,0,-6*P*n,0,12*P,0,0,0,-6*P*n],[0,0,-12*u,0,6*n*u,0,0,0,12*u,0,6*n*u,0],[0,0,0,-M,0,0,0,0,0,M,0,0],[0,0,-6*n*u,0,2*u*n**2,0,0,0,6*n*u,0,4*u*n**2,0],[0,6*n*P,0,0,0,2*P*n**2,0,-6*n*P,0,0,0,4*P*n**2]]}function w0(r,o,s){var e,k,t0;const g=((e=o==null?void 0:o.elasticities)==null?void 0:e.get(s))??0,a=((k=o==null?void 0:o.poissonsRatios)==null?void 0:k.get(s))??0,v=((t0=o==null?void 0:o.thicknesses)==null?void 0:t0.get(s))??0,[h,f]=[r[0][0],r[0][1]],[i,n]=[r[1][0],r[1][1]],[T,P]=[r[2][0],r[2][1]],u=n0(g,a,v),M=h*(n-P)+i*(P-f)+T*(f-n),L=.5*Math.abs(M),j=[[.5,0,1/3],[0,.5,1/3],[.5,.5,1/3]];let D=o0(9,9);for(const[t,c,y]of j){const F=f0(t,c,h,f,i,n,T,P),q=s0(F),H=2*L*y,b=Y(q,u),A=Y(b,F),E=Y(H,A);D=A0(D,E)}return i0(D.toArray());function Z(t,c,y,F,q,H){const b=t-y,A=c-F,E=y-q,B=F-H,w=q-t,z=H-c,C=b*b+A*A,K=E*E+B*B,R=w*w+z*z,U=-6*E/K,V=-6*w/R,W=-6*b/C,O=3*E*B/K,S=3*w*z/R,x=3*b*A/C,d=3*(B*B)/K,G=3*(z*z)/R,g0=3*(A*A)/C,h0=-6*B/K,y0=-6*z/R,q0=-6*A/C;return{x12:b,y12:A,x23:E,y23:B,x31:w,y31:z,l12:C,l23:K,l31:R,P4:U,P5:V,P6:W,q4:O,q5:S,q6:x,r4:d,r5:G,r6:g0,t4:h0,t5:y0,t6:q0}}function l(t,c,y){const{P5:F,P6:q,q5:H,q6:b,r5:A,r6:E}=y;return[q*(1-2*t)+(F-q)*c,b*(1-2*t)-(H+b)*c,-4+6*(t+c)+E*(1-2*t)-c*(A+E),-q*(1-2*t)+c*(y.P4+q),b*(1-2*t)-c*(b-y.q4),-2+6*t+E*(1-2*t)+c*(y.r4-E),-c*(F+y.P4),c*(y.q4-H),-c*(A-y.r4)]}function J(t,c,y){const{t5:F,t6:q,r5:H,r6:b,q5:A,q6:E}=y;return[q*(1-2*t)+c*(F-q),1+b*(1-2*t)-c*(H+b),-E*(1-2*t)+c*(A+E),-q*(1-2*t)+c*(y.t4+q),-1+b*(1-2*t)+c*(y.r4-b),-E*(1-2*t)-c*(y.q4-E),-c*(y.t4+F),c*(y.r4-H),-c*(y.q4-A)]}function Q(t,c,y){const{P4:F,P5:q,P6:H,q4:b,q5:A,q6:E,r4:B,r5:w,r6:z}=y;return[-q*(1-2*c)-t*(H-q),A*(1-2*c)-t*(A+E),-4+6*(t+c)+w*(1-2*c)-t*(w+z),t*(F+H),t*(b-E),-t*(z-B),q*(1-2*c)-t*(F+q),A*(1-2*c)+t*(b-A),-2+6*c+w*(1-2*c)+t*(B-w)]}function a0(t,c,y){const{t4:F,t5:q,t6:H,r4:b,r5:A,r6:E,q4:B,q5:w,q6:z}=y;return[-q*(1-2*c)-t*(H-q),1+A*(1-2*c)-t*(A+E),-w*(1-2*c)+t*(w+z),t*(F+H),t*(b-E),-t*(B-z),q*(1-2*c)-t*(F+q),-1+A*(1-2*c)+t*(b-A),-w*(1-2*c)-t*(B-w)]}function f0(t,c,y,F,q,H,b,A){const E=y*(H-A)+q*(A-F)+b*(F-H),B=Z(y,F,q,H,b,A),w=l(t,c,B),z=Q(t,c,B),C=J(t,c,B),K=a0(t,c,B),{x31:R,y31:U,x12:V,y12:W}=B;let O=o0(3,9);for(let S=0;S<9;S++){const x=(U*w[S]+W*z[S])/E;O.set([0,S],x);const d=(-R*C[S]-V*K[S])/E;O.set([1,S],d);const G=(-R*w[S]-V*z[S]+U*C[S]+W*K[S])/E;O.set([2,S],G)}return O}function n0(t,c,y){const F=t*y**3/(12*(1-c*c)),q=[[1,c,0],[c,1,0],[0,0,(1-c)/2]].map(H=>H.map(b=>b*F));return P0(q)}function i0(t){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[0][0],t[0][2],t[0][1],0,0,0,t[0][3],t[0][5],t[0][4],0,0,0,t[0][6],t[0][8],t[0][7],0],[0,0,t[2][0],t[2][2],t[2][1],0,0,0,t[2][3],t[2][5],t[2][4],0,0,0,t[2][6],t[2][8],t[2][7],0],[0,0,t[1][0],t[1][2],t[1][1],0,0,0,t[1][3],t[1][5],t[1][4],0,0,0,t[1][6],t[1][8],t[1][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[3][0],t[3][2],t[3][1],0,0,0,t[3][3],t[3][5],t[3][4],0,0,0,t[3][6],t[3][8],t[3][7],0],[0,0,t[5][0],t[5][2],t[5][1],0,0,0,t[5][3],t[5][5],t[5][4],0,0,0,t[5][6],t[5][8],t[5][7],0],[0,0,t[4][0],t[4][2],t[4][1],0,0,0,t[4][3],t[4][5],t[4][4],0,0,0,t[4][6],t[4][8],t[4][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[6][0],t[6][2],t[6][1],0,0,0,t[6][3],t[6][5],t[6][4],0,0,0,t[6][6],t[6][8],t[6][7],0],[0,0,t[8][0],t[8][2],t[8][1],0,0,0,t[8][3],t[8][5],t[8][4],0,0,0,t[8][6],t[8][8],t[8][7],0],[0,0,t[7][0],t[7][2],t[7][1],0,0,0,t[7][3],t[7][5],t[7][4],0,0,0,t[7][6],t[7][8],t[7][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}}function z0(r,o,s,g){let a=Array(g).fill(0).map(()=>Array(g).fill(0));return o.forEach((v,h)=>{const f=v.map(P=>r[P]),i=B0(f,s,h),n=F0(f),T=Y(s0(n),Y(i,n));a=L0(a,T,v)}),a}function L0(r,o,s){const g=s.length===3,a=6*s[0],v=6*s[1],h=g?6*s[2]:void 0;for(let f=0;f<6;f++)for(let i=0;i<6;i++)r[a+f][a+i]+=o[f][i],r[v+f][a+i]+=o[f+6][i],g&&(r[h+f][a+i]+=o[f+12][i]),r[a+f][v+i]+=o[f][i+6],r[v+f][v+i]+=o[f+6][i+6],g&&(r[h+f][v+i]+=o[f+12][i+6]),g&&(r[a+f][h+i]+=o[f][i+12],r[v+f][h+i]+=o[f+6][i+12],r[h+f][h+i]+=o[f+12][i+12]);return r}function j0(r,o,s,g){const a=r.length*6;if(a===0)return;const v=S0(s.supports,a),h=T0(s.loads,a),f=z0(r,o,g,a),i=p(h,I(v)),n=p(f,I(v,v)),T=b0(n),P=v0(T),u=E0(P,i),M=p(Array(a).fill(0),I(v),u0(u)),L=Y(f,M),j=new Map,D=new Map;return r.forEach((Z,l)=>{var Q;const J=(Q=s.supports)==null?void 0:Q.get(l);j.set(l,[M[l*6],M[l*6+1],M[l*6+2],M[l*6+3],M[l*6+4],M[l*6+5]]),J&&D.set(l,[L[l*6],L[l*6+1],L[l*6+2],L[l*6+3],L[l*6+4],L[l*6+5]])}),{deformations:j,reactions:D}}function S0(r,o){const s=[];return r==null||r.forEach((g,a)=>{g[0]&&s.push(a*6),g[1]&&s.push(a*6+1),g[2]&&s.push(a*6+2),g[3]&&s.push(a*6+3),g[4]&&s.push(a*6+4),g[5]&&s.push(a*6+5)}),Array(o).fill(0).map((g,a)=>a).filter(g=>!s.includes(g))}function T0(r,o){const s=Array(o).fill(0);return r==null||r.forEach((g,a)=>{s[a*6]=g[0],s[a*6+1]=g[1],s[a*6+2]=g[2],s[a*6+3]=g[3],s[a*6+4]=g[4],s[a*6+5]=g[5]}),s}export{B0 as a,j0 as d,F0 as g};
